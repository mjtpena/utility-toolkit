<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Utility Toolkit</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8 bg-gray-100">
    <h1 class="text-3xl font-bold mb-4">Debug Test Page</h1>
    <div id="status" class="space-y-4">
        <div class="p-4 bg-blue-100 rounded">
            <h2 class="font-semibold">Deployment Test</h2>
            <p>If you can see this page, the deployment is working ✅</p>
        </div>
        
        <div class="p-4 bg-yellow-100 rounded">
            <h2 class="font-semibold">Script Loading Test</h2>
            <p id="scripts-status">Testing...</p>
        </div>
        
        <div class="p-4 bg-purple-100 rounded">
            <h2 class="font-semibold">Tool Registry Test</h2>
            <p id="registry-status">Testing...</p>
        </div>
        
        <div class="p-4 bg-green-100 rounded">
            <h2 class="font-semibold">Router Test</h2>
            <p id="router-status">Testing...</p>
        </div>
    </div>
    
    <!-- Core Framework Scripts -->
    <script src="shared/utils/storage.js"></script>
    <script src="shared/utils/calculations.js"></script>
    <script src="shared/utils/formatters.js"></script>
    <script src="shared/utils/validators.js"></script>
    <script src="shared/components/ui.js"></script>
    <script src="shared/components/forms.js"></script>
    <script src="shared/components/results.js"></script>
    <script src="shared/components/tool-templates.js"></script>
    <script src="shared/components/tool-registry.js"></script>
    
    <!-- Load a few tools for testing -->
    <script src="tools/calculators/financial-tools.js"></script>
    
    <!-- Router -->
    <script src="shared/components/router.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Test script loading
            const scriptsStatus = document.getElementById('scripts-status');
            const deps = {
                'ToolRegistry': typeof ToolRegistry !== 'undefined',
                'ToolTemplates': typeof ToolTemplates !== 'undefined',
                'Formatters': typeof Formatters !== 'undefined',
                'UtilityRouter': typeof UtilityRouter !== 'undefined'
            };
            
            const loaded = Object.values(deps).every(Boolean);
            scriptsStatus.innerHTML = loaded 
                ? '✅ All core scripts loaded successfully'
                : '❌ Missing dependencies: ' + Object.keys(deps).filter(k => !deps[k]).join(', ');
            
            // Test tool registry
            const registryStatus = document.getElementById('registry-status');
            setTimeout(() => {
                if (typeof ToolRegistry !== 'undefined' && ToolRegistry.tools && ToolRegistry.tools.size > 0) {
                    registryStatus.innerHTML = `✅ ${ToolRegistry.tools.size} tools registered successfully`;
                } else {
                    registryStatus.innerHTML = '❌ No tools registered';
                }
            }, 1000);
            
            // Test router
            const routerStatus = document.getElementById('router-status');
            setTimeout(() => {
                try {
                    const router = new UtilityRouter(false);
                    routerStatus.innerHTML = '✅ Router initializes correctly';
                } catch (error) {
                    routerStatus.innerHTML = '❌ Router error: ' + error.message;
                }
            }, 1500);
        });
    </script>
</body>
</html>